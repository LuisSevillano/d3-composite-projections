// http://geoexamples.com/d3-composite-projections/ v1.3.2 Copyright 2020 Roger Veciana i Rovira
!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("d3-geo"),require("d3-path")):"function"==typeof define&&define.amd?define(["exports","d3-geo","d3-path"],e):e((n=n||self).d3=n.d3||{},n.d3,n.d3)}(this,(function(n,e,t){"use strict";function r(){}var o=1/0,i=o,a=-o,l=a,c={point:function(n,e){n<o&&(o=n);n>a&&(a=n);e<i&&(i=e);e>l&&(l=e)},lineStart:r,lineEnd:r,polygonStart:r,polygonEnd:r,result:function(){var n=[[o,i],[a,l]];return a=l=-(i=o=1/0),n}};function s(n,t,r){var o=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),null!=o&&n.clipExtent(null),e.geoStream(r,n.stream(c)),t(c.result()),null!=o&&n.clipExtent(o),n}function u(n,e,t){return s(n,(function(t){var r=e[1][0]-e[0][0],o=e[1][1]-e[0][1],i=Math.min(r/(t[1][0]-t[0][0]),o/(t[1][1]-t[0][1])),a=+e[0][0]+(r-i*(t[1][0]+t[0][0]))/2,l=+e[0][1]+(o-i*(t[1][1]+t[0][1]))/2;n.scale(150*i).translate([a,l])}),t)}function f(n,e,t){return u(n,[[0,0],e],t)}function p(n,e,t){return s(n,(function(t){var r=+e,o=r/(t[1][0]-t[0][0]),i=(r-o*(t[1][0]+t[0][0]))/2,a=-o*t[0][1];n.scale(150*o).translate([i,a])}),t)}function v(n,e,t){return s(n,(function(t){var r=+e,o=r/(t[1][1]-t[0][1]),i=-o*t[0][0],a=(r-o*(t[1][1]+t[0][1]))/2;n.scale(150*o).translate([i,a])}),t)}n.geoAlbersUk=function(){var n,r,o,i,a,l=e.geoAlbers().rotate([4.4,.8]).center([0,55.4]).parallels([50,60]),c=e.geoAlbers().rotate([4.4,.8]).center([0,55.4]).parallels([50,60]),s={point:function(n,e){a=[n,e]}};function p(n){var e=n[0],t=n[1];return a=null,o.point(e,t),a||(i.point(e,t),a)}function v(){return n=r=null,p}return p.invert=function(n){var e=l.scale(),t=l.translate(),r=(n[0]-t[0])/e,o=(n[1]-t[1])/e;return(o>=-.089&&o<.06&&r>=.029&&r<.046?c:l).invert(n)},p.stream=function(e){return n&&r===e?n:(t=[l.stream(r=e),c.stream(e)],o=t.length,n={point:function(n,e){for(var r=-1;++r<o;)t[r].point(n,e)},sphere:function(){for(var n=-1;++n<o;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<o;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<o;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<o;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<o;)t[n].polygonEnd()}});var t,o},p.precision=function(n){return arguments.length?(l.precision(n),c.precision(n),v()):l.precision()},p.scale=function(n){return arguments.length?(l.scale(n),c.scale(n),p.translate(l.translate())):l.scale()},p.translate=function(n){if(!arguments.length)return l.translate();var e=l.scale(),t=+n[0],r=+n[1];return o=l.translate(n).clipExtent([[t-.065*e,r-.089*e],[t+.075*e,r+.089*e]]).stream(s),i=c.translate([t+.01*e,r+.025*e]).clipExtent([[t+.029*e+1e-6,r-.089*e+1e-6],[t+.046*e-1e-6,r-.06*e-1e-6]]).stream(s),v()},p.fitExtent=function(n,e){return u(p,n,e)},p.fitSize=function(n,e){return f(p,n,e)},p.drawCompositionBorders=function(n){var e,t,r,o;e=l([-1.113205870242365,59.64920050773357]),t=l([.807899092399606,59.59085836472269]),r=l([.5778611961420386,57.93467822832577]),o=l([-1.25867782078448,57.99029450085142]),n.moveTo(e[0],e[1]),n.lineTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath()},p.getCompositionBorders=function(){var n=t.path();return this.drawCompositionBorders(n),n.toString()},p.scale(2800)},n.geoAlbersUsa=function(){var n,r,o,i,a,l,c=e.geoAlbers(),s=e.geoConicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),p=e.geoConicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),v={point:function(n,e){l=[n,e]}};function m(n){var e=n[0],t=n[1];return l=null,o.point(e,t),l||(i.point(e,t),l)||(a.point(e,t),l)}function g(){return n=r=null,m}return m.invert=function(n){var e=c.scale(),t=c.translate(),r=(n[0]-t[0])/e,o=(n[1]-t[1])/e;return(o>=.12&&o<.234&&r>=-.425&&r<-.214?s:o>=.166&&o<.234&&r>=-.214&&r<-.115?p:c).invert(n)},m.stream=function(e){return n&&r===e?n:(t=[c.stream(r=e),s.stream(e),p.stream(e)],o=t.length,n={point:function(n,e){for(var r=-1;++r<o;)t[r].point(n,e)},sphere:function(){for(var n=-1;++n<o;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<o;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<o;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<o;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<o;)t[n].polygonEnd()}});var t,o},m.precision=function(n){return arguments.length?(c.precision(n),s.precision(n),p.precision(n),g()):c.precision()},m.scale=function(n){return arguments.length?(c.scale(n),s.scale(.35*n),p.scale(n),m.translate(c.translate())):c.scale()},m.translate=function(n){if(!arguments.length)return c.translate();var e=c.scale(),t=+n[0],r=+n[1];return o=c.translate(n).clipExtent([[t-.455*e,r-.238*e],[t+.455*e,r+.238*e]]).stream(v),i=s.translate([t-.307*e,r+.201*e]).clipExtent([[t-.425*e+1e-6,r+.12*e+1e-6],[t-.214*e-1e-6,r+.234*e-1e-6]]).stream(v),a=p.translate([t-.205*e,r+.212*e]).clipExtent([[t-.214*e+1e-6,r+.166*e+1e-6],[t-.115*e-1e-6,r+.234*e-1e-6]]).stream(v),g()},m.fitExtent=function(n,e){return u(m,n,e)},m.fitSize=function(n,e){return f(m,n,e)},m.drawCompositionBorders=function(n){var e=c([-102.91,26.3]),t=c([-104,27.5]),r=c([-108,29.1]),o=c([-110,29.1]),i=c([-110,26.7]),a=c([-112.8,27.6]),l=c([-114.3,30.6]),s=c([-119.3,30.1]);n.moveTo(e[0],e[1]),n.lineTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.moveTo(i[0],i[1]),n.lineTo(a[0],a[1]),n.lineTo(l[0],l[1]),n.lineTo(s[0],s[1])},m.getCompositionBorders=function(){var n=t.path();return this.drawCompositionBorders(n),n.toString()},m.scale(1070)},n.geoAlbersUsaTerritories=function(){var n,r,o,i,a,l,c,s,p,v=e.geoAlbers(),m=e.geoConicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),g=e.geoConicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),T=e.geoConicEqualArea().rotate([66,0]).center([0,18]).parallels([8,18]),h=e.geoEquirectangular().rotate([173,14]),d=e.geoEquirectangular().rotate([-145,-16.8]),E={point:function(n,e){p=[n,e]}};function C(n){var e=n[0],t=n[1];return p=null,o.point(e,t),p||(i.point(e,t),p)||(a.point(e,t),p)||(l.point(e,t),p)||(c.point(e,t),p)||(s.point(e,t),p)}function S(){return n=r=null,C}return C.invert=function(n){var e=v.scale(),t=v.translate(),r=(n[0]-t[0])/e,o=(n[1]-t[1])/e;return(o>=.12&&o<.234&&r>=-.425&&r<-.214?m:o>=.166&&o<.234&&r>=-.214&&r<-.115?g:o>=.2064&&o<.2413&&r>=.312&&r<.385?T:o>=.09&&o<.1197&&r>=-.4243&&r<-.3232?h:o>=-.0518&&o<.0895&&r>=-.4243&&r<-.3824?d:v).invert(n)},C.stream=function(e){return n&&r===e?n:(t=[v.stream(r=e),m.stream(e),g.stream(e),T.stream(e),h.stream(e),d.stream(e)],o=t.length,n={point:function(n,e){for(var r=-1;++r<o;)t[r].point(n,e)},sphere:function(){for(var n=-1;++n<o;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<o;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<o;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<o;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<o;)t[n].polygonEnd()}});var t,o},C.precision=function(n){return arguments.length?(v.precision(n),m.precision(n),g.precision(n),T.precision(n),h.precision(n),d.precision(n),S()):v.precision()},C.scale=function(n){return arguments.length?(v.scale(n),m.scale(.35*n),g.scale(n),T.scale(n),h.scale(2*n),d.scale(n),C.translate(v.translate())):v.scale()},C.translate=function(n){if(!arguments.length)return v.translate();var e=v.scale(),t=+n[0],r=+n[1];return o=v.translate(n).clipExtent([[t-.455*e,r-.238*e],[t+.455*e,r+.238*e]]).stream(E),i=m.translate([t-.307*e,r+.201*e]).clipExtent([[t-.425*e+1e-6,r+.12*e+1e-6],[t-.214*e-1e-6,r+.233*e-1e-6]]).stream(E),a=g.translate([t-.205*e,r+.212*e]).clipExtent([[t-.214*e+1e-6,r+.166*e+1e-6],[t-.115*e-1e-6,r+.233*e-1e-6]]).stream(E),l=T.translate([t+.35*e,r+.224*e]).clipExtent([[t+.312*e+1e-6,r+.2064*e+1e-6],[t+.385*e-1e-6,r+.233*e-1e-6]]).stream(E),c=h.translate([t-.492*e,r+.09*e]).clipExtent([[t-.4243*e+1e-6,r+.0903*e+1e-6],[t-.3233*e-1e-6,r+.1197*e-1e-6]]).stream(E),s=d.translate([t-.408*e,r+.018*e]).clipExtent([[t-.4244*e+1e-6,r-.0519*e+1e-6],[t-.3824*e-1e-6,r+.0895*e-1e-6]]).stream(E),S()},C.fitExtent=function(n,e){return u(C,n,e)},C.fitSize=function(n,e){return f(C,n,e)},C.drawCompositionBorders=function(n){var e=v([-110.4641,28.2805]),t=v([-104.0597,28.9528]),r=v([-103.7049,25.1031]),o=v([-109.8337,24.4531]),i=v([-124.4745,28.1407]),a=v([-110.931,30.8844]),l=v([-109.8337,24.4531]),c=v([-122.4628,21.8562]),s=v([-76.8579,25.1544]),u=v([-72.429,24.2097]),f=v([-72.8265,22.7056]),p=v([-77.1852,23.6392]),m=v([-125.0093,29.7791]),g=v([-118.5193,31.3262]),T=v([-118.064,29.6912]),h=v([-124.4369,28.169]),d=v([-128.1314,37.4582]),E=v([-125.2132,38.214]),C=v([-122.3616,30.5115]),S=v([-125.0315,29.8211]);n.moveTo(e[0],e[1]),n.lineTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),n.moveTo(i[0],i[1]),n.lineTo(a[0],a[1]),n.lineTo(l[0],l[1]),n.lineTo(l[0],l[1]),n.lineTo(c[0],c[1]),n.closePath(),n.moveTo(s[0],s[1]),n.lineTo(u[0],u[1]),n.lineTo(f[0],f[1]),n.lineTo(f[0],f[1]),n.lineTo(p[0],p[1]),n.closePath(),n.moveTo(m[0],m[1]),n.lineTo(g[0],g[1]),n.lineTo(T[0],T[1]),n.lineTo(T[0],T[1]),n.lineTo(h[0],h[1]),n.closePath(),n.moveTo(d[0],d[1]),n.lineTo(E[0],E[1]),n.lineTo(C[0],C[1]),n.lineTo(C[0],C[1]),n.lineTo(S[0],S[1]),n.closePath()},C.getCompositionBorders=function(){var n=t.path();return this.drawCompositionBorders(n),n.toString()},C.scale(1070)},n.geoConicConformalEurope=function(){var n,r,o,i,a,l,c,s,p,v,m,g,T,h,d,E=e.geoConicConformal().rotate([-10,-53]).parallels([0,60]),C=e.geoMercator().center([-61.46,16.14]),S=e.geoMercator().center([-53.2,3.9]),x=e.geoConicConformal().rotate([27.8,-38.9]).parallels([0,60]),y=e.geoConicConformal().rotate([25.43,-37.398]).parallels([0,60]),B=e.geoConicConformal().rotate([31.17,-39.539]).parallels([0,60]),P=e.geoConicConformal().rotate([17,-32.7]).parallels([0,60]),M=e.geoConicConformal().rotate([16,-28.5]).parallels([0,60]),w=e.geoMercator().center([-61.03,14.67]),q=e.geoMercator().center([45.16,-12.8]),z=e.geoMercator().center([55.52,-21.13]),A=e.geoConicConformal().rotate([-14.4,-35.95]).parallels([0,60]),b={point:function(n,e){d=[n,e]}};function U(n){var e=n[0],t=n[1];return d=null,o.point(e,t),d||(a.point(e,t),d)||(m.point(e,t),d)||(i.point(e,t),d)||(v.point(e,t),d)||(p.point(e,t),d)||(g.point(e,t),d)||(T.point(e,t),d)||(h.point(e,t),d)||(l.point(e,t),d)||(c.point(e,t),d)||(s.point(e,t),d)}function j(){return n=r=null,U}return U.invert=function(n){var e=E.scale(),t=E.translate(),r=(n[0]-(t[0]+.08*e))/e,o=(n[1]-t[1])/e;return(o>=-.31&&o<-.24&&r>=.14&&r<.24?C:o>=-.24&&o<-.17&&r>=.14&&r<.24?S:o>=-.17&&o<-.12&&r>=.21&&r<.24?y:o>=-.17&&o<-.14&&r>=.14&&r<.165?B:o>=-.17&&o<-.1&&r>=.14&&r<.24?x:o>=-.1&&o<-.03&&r>=.14&&r<.24?P:o>=-.03&&o<.04&&r>=.14&&r<.24?M:o>=-.31&&o<-.24&&r>=.24&&r<.34?w:o>=-.24&&o<-.17&&r>=.24&&r<.34?q:o>=-.17&&o<-.1&&r>=.24&&r<.34?z:o>=-.1&&o<-.03&&r>=.24&&r<.34?A:E).invert(n)},U.stream=function(e){return n&&r===e?n:(t=[E.stream(r=e),S.stream(e),w.stream(e),C.stream(e),M.stream(e),P.stream(e),q.stream(e),z.stream(e),A.stream(e),x.stream(e),y.stream(e),B.stream(e)],o=t.length,n={point:function(n,e){for(var r=-1;++r<o;)t[r].point(n,e)},sphere:function(){for(var n=-1;++n<o;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<o;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<o;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<o;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<o;)t[n].polygonEnd()}});var t,o},U.precision=function(n){return arguments.length?(E.precision(n),S.precision(n),w.precision(n),C.precision(n),M.precision(n),P.precision(n),q.precision(n),z.precision(n),A.precision(n),x.precision(n),y.precision(n),B.precision(n),j()):E.precision()},U.scale=function(n){return arguments.length?(E.scale(n),C.scale(3*n),S.scale(.8*n),w.scale(3.5*n),z.scale(2.7*n),x.scale(2*n),y.scale(2*n),B.scale(2*n),P.scale(3*n),M.scale(n),q.scale(5.5*n),A.scale(6*n),U.translate(E.translate())):E.scale()},U.translate=function(n){if(!arguments.length)return E.translate();var e=E.scale(),t=+n[0],r=+n[1];return o=E.translate([t-.08*e,r]).clipExtent([[t-.51*e,r-.33*e],[t+.5*e,r+.33*e]]).stream(b),i=C.translate([t+.19*e,r-.275*e]).clipExtent([[t+.14*e+1e-6,r-.31*e+1e-6],[t+.24*e-1e-6,r-.24*e-1e-6]]).stream(b),a=S.translate([t+.19*e,r-.205*e]).clipExtent([[t+.14*e+1e-6,r-.24*e+1e-6],[t+.24*e-1e-6,r-.17*e-1e-6]]).stream(b),l=x.translate([t+.19*e,r-.135*e]).clipExtent([[t+.14*e+1e-6,r-.17*e+1e-6],[t+.24*e-1e-6,r-.1*e-1e-6]]).stream(b),c=y.translate([t+.225*e,r-.147*e]).clipExtent([[t+.21*e+1e-6,r-.17*e+1e-6],[t+.24*e-1e-6,r-.12*e-1e-6]]).stream(b),s=B.translate([t+.153*e,r-.15*e]).clipExtent([[t+.14*e+1e-6,r-.17*e+1e-6],[t+.165*e-1e-6,r-.14*e-1e-6]]).stream(b),p=P.translate([t+.19*e,r-.065*e]).clipExtent([[t+.14*e+1e-6,r-.1*e+1e-6],[t+.24*e-1e-6,r-.03*e-1e-6]]).stream(b),v=M.translate([t+.19*e,r+.005*e]).clipExtent([[t+.14*e+1e-6,r-.03*e+1e-6],[t+.24*e-1e-6,r+.04*e-1e-6]]).stream(b),m=w.translate([t+.29*e,r-.275*e]).clipExtent([[t+.24*e+1e-6,r-.31*e+1e-6],[t+.34*e-1e-6,r-.24*e-1e-6]]).stream(b),g=q.translate([t+.29*e,r-.205*e]).clipExtent([[t+.24*e+1e-6,r-.24*e+1e-6],[t+.34*e-1e-6,r-.17*e-1e-6]]).stream(b),T=z.translate([t+.29*e,r-.135*e]).clipExtent([[t+.24*e+1e-6,r-.17*e+1e-6],[t+.34*e-1e-6,r-.1*e-1e-6]]).stream(b),h=A.translate([t+.29*e,r-.065*e]).clipExtent([[t+.24*e+1e-6,r-.1*e+1e-6],[t+.34*e-1e-6,r-.03*e-1e-6]]).stream(b),j()},U.fitExtent=function(n,e){return u(U,n,e)},U.fitSize=function(n,e){return f(U,n,e)},U.drawCompositionBorders=function(n){var e,t,r,o;e=E([42.45755610828648,63.343658547914934]),t=E([52.65837266667029,59.35045080290929]),r=E([47.19754502247785,56.12653496548117]),o=E([37.673034273363044,59.61638268506111]),n.moveTo(e[0],e[1]),n.lineTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),e=E([59.41110754003403,62.35069727399336]),t=E([66.75050228640794,57.11797303636038]),r=E([60.236065725110436,54.63331433818992]),o=E([52.65837313153311,59.350450804599355]),n.moveTo(e[0],e[1]),n.lineTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),e=E([48.81091130080243,66.93353402634641]),t=E([59.41110730654679,62.35069740653086]),r=E([52.6583728974441,59.3504509222445]),o=E([42.45755631675751,63.34365868805821]),n.moveTo(e[0],e[1]),n.lineTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),e=E([31.054198418446475,52.1080673766184]),t=E([39.09869284884117,49.400700047190554]),r=E([36.0580811499175,46.02944174908498]),o=E([28.690508588835726,48.433126979386415]),n.moveTo(e[0],e[1]),n.lineTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),e=E([33.977877745912025,55.849945501331]),t=E([42.75328432167726,52.78455122462353]),r=E([39.09869297540224,49.400700176148625]),o=E([31.05419851807008,52.10806751810923]),n.moveTo(e[0],e[1]),n.lineTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),e=E([52.658372900759296,59.35045068526415]),t=E([60.23606549583304,54.63331423800264]),r=E([54.6756370953122,51.892298789399455]),o=E([47.19754524788189,56.126534861222794]),n.moveTo(e[0],e[1]),n.lineTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),e=E([47.19754506082455,56.126534735591456]),t=E([54.675636900123514,51.892298681337095]),r=E([49.94448648951486,48.98775484983285]),o=E([42.75328468716108,52.78455126060818]),n.moveTo(e[0],e[1]),n.lineTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),e=E([42.75328453416769,52.78455113209101]),t=E([49.94448632339758,48.98775473706457]),r=E([45.912339990394315,45.99361784987003]),o=E([39.09869317356607,49.40070009378711]),n.moveTo(e[0],e[1]),n.lineTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),e=E([37.673034114296634,59.61638254183119]),t=E([47.197544835420544,56.126534839849846]),r=E([42.75328447467064,52.78455135314068]),o=E([33.977877870363905,55.849945644671145]),n.moveTo(e[0],e[1]),n.lineTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),e=E([44.56748486446032,57.26489367845818]),r=E([43.9335791193588,53.746540942601726]),o=E([43,56]),n.moveTo(e[0],e[1]),n.lineTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),e=E([37.673034114296634,59.61638254183119]),t=E([40.25902691953466,58.83002044222639]),r=E([38.458270492742024,57.26232178028002]),o=E([35.97754948030156,58.00266637992386]),n.moveTo(e[0],e[1]),n.lineTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath()},U.getCompositionBorders=function(){var n=t.path();return this.drawCompositionBorders(n),n.toString()},U.scale(750)},n.geoConicConformalFrance=function(){var n,r,o,i,a,l,c,s,p,v,m,g,T,h,d,E=e.geoConicConformal().rotate([-3,-46.2]).parallels([0,60]),C=e.geoMercator().center([-53.2,3.9]),S=e.geoMercator().center([-61.03,14.67]),x=e.geoMercator().center([-61.46,16.14]),y=e.geoMercator().center([-62.85,17.92]),B=e.geoMercator().center([-56.23,46.93]),P=e.geoMercator().center([45.16,-12.8]),M=e.geoMercator().center([55.52,-21.13]),w=e.geoMercator().center([165.8,-21.07]),q=e.geoMercator().center([-178.1,-14.3]),z=e.geoMercator().center([-150.55,-17.11]),A=e.geoMercator().center([-150.55,-17.11]),b={point:function(n,e){d=[n,e]}};function U(n){var e=n[0],t=n[1];return d=null,o.point(e,t),d||(i.point(e,t),d)||(a.point(e,t),d)||(l.point(e,t),d)||(c.point(e,t),d)||(s.point(e,t),d)||(p.point(e,t),d)||(v.point(e,t),d)||(m.point(e,t),d)||(g.point(e,t),d)||(T.point(e,t),d)||(h.point(e,t),d)}function j(){return n=r=null,U}return U.invert=function(n){var e=E.scale(),t=E.translate(),r=(n[0]-t[0])/e,o=(n[1]-t[1])/e;return(o>=.029&&o<.0864&&r>=-.14&&r<-.0996?C:o>=0&&o<.029&&r>=-.14&&r<-.0996?S:o>=-.032&&o<0&&r>=-.14&&r<-.0996?x:o>=-.052&&o<-.032&&r>=-.14&&r<-.0996?y:o>=-.076&&o<.052&&r>=-.14&&r<-.0996?B:o>=-.076&&o<-.052&&r>=.0967&&r<.1371?P:o>=-.052&&o<-.02&&r>=.0967&&r<.1371?M:o>=-.02&&o<.012&&r>=.0967&&r<.1371?w:o>=.012&&o<.033&&r>=.0967&&r<.1371?q:o>=.033&&o<.0864&&r>=.0967&&r<.1371?z:E).invert(n)},U.stream=function(e){return n&&r===e?n:(t=[E.stream(r=e),C.stream(e),S.stream(e),x.stream(e),y.stream(e),B.stream(e),P.stream(e),M.stream(e),w.stream(e),q.stream(e),z.stream(e),A.stream(e)],o=t.length,n={point:function(n,e){for(var r=-1;++r<o;)t[r].point(n,e)},sphere:function(){for(var n=-1;++n<o;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<o;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<o;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<o;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<o;)t[n].polygonEnd()}});var t,o},U.precision=function(n){return arguments.length?(E.precision(n),C.precision(n),S.precision(n),x.precision(n),y.precision(n),B.precision(n),P.precision(n),M.precision(n),w.precision(n),q.precision(n),z.precision(n),A.precision(n),j()):E.precision()},U.scale=function(n){return arguments.length?(E.scale(n),C.scale(.6*n),S.scale(1.6*n),x.scale(1.4*n),y.scale(5*n),B.scale(1.3*n),P.scale(1.6*n),M.scale(1.2*n),w.scale(.3*n),q.scale(2.7*n),z.scale(.5*n),A.scale(.06*n),U.translate(E.translate())):E.scale()},U.translate=function(n){if(!arguments.length)return E.translate();var e=E.scale(),t=+n[0],r=+n[1];return o=E.translate(n).clipExtent([[t-.0996*e,r-.0908*e],[t+.0967*e,r+.0864*e]]).stream(b),i=C.translate([t-.12*e,r+.0575*e]).clipExtent([[t-.14*e+1e-6,r+.029*e+1e-6],[t-.0996*e-1e-6,r+.0864*e-1e-6]]).stream(b),a=S.translate([t-.12*e,r+.013*e]).clipExtent([[t-.14*e+1e-6,r+0*e+1e-6],[t-.0996*e-1e-6,r+.029*e-1e-6]]).stream(b),l=x.translate([t-.12*e,r-.014*e]).clipExtent([[t-.14*e+1e-6,r-.032*e+1e-6],[t-.0996*e-1e-6,r+0*e-1e-6]]).stream(b),c=y.translate([t-.12*e,r-.044*e]).clipExtent([[t-.14*e+1e-6,r-.052*e+1e-6],[t-.0996*e-1e-6,r-.032*e-1e-6]]).stream(b),s=B.translate([t-.12*e,r-.065*e]).clipExtent([[t-.14*e+1e-6,r-.076*e+1e-6],[t-.0996*e-1e-6,r-.052*e-1e-6]]).stream(b),p=P.translate([t+.117*e,r-.064*e]).clipExtent([[t+.0967*e+1e-6,r-.076*e+1e-6],[t+.1371*e-1e-6,r-.052*e-1e-6]]).stream(b),v=M.translate([t+.116*e,r-.0355*e]).clipExtent([[t+.0967*e+1e-6,r-.052*e+1e-6],[t+.1371*e-1e-6,r-.02*e-1e-6]]).stream(b),m=w.translate([t+.116*e,r-.0048*e]).clipExtent([[t+.0967*e+1e-6,r-.02*e+1e-6],[t+.1371*e-1e-6,r+.012*e-1e-6]]).stream(b),g=q.translate([t+.116*e,r+.022*e]).clipExtent([[t+.0967*e+1e-6,r+.012*e+1e-6],[t+.1371*e-1e-6,r+.033*e-1e-6]]).stream(b),h=A.translate([t+.11*e,r+.045*e]).clipExtent([[t+.0967*e+1e-6,r+.033*e+1e-6],[t+.1371*e-1e-6,r+.06*e-1e-6]]).stream(b),T=z.translate([t+.115*e,r+.075*e]).clipExtent([[t+.0967*e+1e-6,r+.06*e+1e-6],[t+.1371*e-1e-6,r+.0864*e-1e-6]]).stream(b),j()},U.fitExtent=function(n,e){return u(U,n,e)},U.fitSize=function(n,e){return f(U,n,e)},U.drawCompositionBorders=function(n){var e,t,r,o;e=E([-7.938886725111036,43.7219460918835]),t=E([-4.832080896458295,44.12930268549372]),r=E([-4.205299743793263,40.98096346967365]),o=E([-7.071796453126152,40.610037319181444]),n.moveTo(e[0],e[1]),n.lineTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),e=E([-8.42751373617692,45.32889452553031]),t=E([-5.18599305777107,45.7566442062976]),r=E([-4.832080905154431,44.129302726751426]),o=E([-7.938886737126192,43.72194613263854]),n.moveTo(e[0],e[1]),n.lineTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),e=E([-9.012656899657046,47.127733821030176]),t=E([-5.6105244772793155,47.579777861410626]),r=E([-5.185993067168585,45.756644248170346]),o=E([-8.427513749141811,45.32889456686326]),n.moveTo(e[0],e[1]),n.lineTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),e=E([-9.405747558985553,48.26506375557457]),t=E([-5.896175018439575,48.733352850851624]),r=E([-5.610524487556043,47.57977790393761]),o=E([-9.012656913808351,47.127733862971255]),n.moveTo(e[0],e[1]),n.lineTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),e=E([-9.908436061346974,49.642448789505856]),t=E([-6.262026716233124,50.131426841787174]),r=E([-5.896175029331232,48.73335289377258]),o=E([-9.40574757396393,48.26506379787767]),n.moveTo(e[0],e[1]),n.lineTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),e=E([11.996907706504462,50.16039028163579]),t=E([15.649907879773343,49.68279246765253]),r=E([15.156712840526632,48.30371557625831]),o=E([11.64122661754411,48.761078240546816]),n.moveTo(e[0],e[1]),n.lineTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),e=E([11.641226606955788,48.7610781975889]),t=E([15.156712825832164,48.30371553390465]),r=E([14.549932166241172,46.4866532486199]),o=E([11.204443787952183,46.91899233914248]),n.moveTo(e[0],e[1]),n.lineTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),e=E([11.204443778297161,46.918992296823646]),t=E([14.549932152815039,46.486653206856396]),r=E([13.994409796764009,44.695833444323256]),o=E([10.805306599253848,45.105133870684924]),n.moveTo(e[0],e[1]),n.lineTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),e=E([10.805306590412085,45.10513382903308]),t=E([13.99440978444733,44.695833403183606]),r=E([13.654633799024392,43.53552468558152]),o=E([10.561516803980956,43.930671459798624]),n.moveTo(e[0],e[1]),n.lineTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),e=E([10.561516795617383,43.93067141859757]),t=E([13.654633787361952,43.5355246448671]),r=E([12.867691604239901,40.640701985019405]),o=E([9.997809515987688,41.00288343254471]),n.moveTo(e[0],e[1]),n.lineTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),e=E([10.8,42.4]),t=E([12.8,42.13]),n.moveTo(e[0],e[1]),n.lineTo(t[0],t[1])},U.getCompositionBorders=function(){var n=t.path();return this.drawCompositionBorders(n),n.toString()},U.scale(2700)},n.geoConicConformalPortugal=function(){var n,r,o,i,a,l,c=e.geoConicConformal().rotate([10,-39.3]).parallels([0,60]),s=e.geoConicConformal().rotate([17,-32.7]).parallels([0,60]),p=e.geoConicConformal().rotate([27.8,-38.6]).parallels([0,60]),v={point:function(n,e){l=[n,e]}};function m(n){var e=n[0],t=n[1];return l=null,o.point(e,t),l||(i.point(e,t),l)||(a.point(e,t),l)}function g(){return n=r=null,m}return m.invert=function(n){var e=c.scale(),t=c.translate(),r=(n[0]-t[0])/e,o=(n[1]-t[1])/e;return(o>=.0093&&o<.03678&&r>=-.03875&&r<-.0116?s:o>=-.0412&&o<.0091&&r>=-.07782&&r<-.01166?p:c).invert(n)},m.stream=function(e){return n&&r===e?n:(t=[c.stream(r=e),s.stream(e),p.stream(e)],o=t.length,n={point:function(n,e){for(var r=-1;++r<o;)t[r].point(n,e)},sphere:function(){for(var n=-1;++n<o;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<o;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<o;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<o;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<o;)t[n].polygonEnd()}});var t,o},m.precision=function(n){return arguments.length?(c.precision(n),s.precision(n),p.precision(n),g()):c.precision()},m.scale=function(n){return arguments.length?(c.scale(n),s.scale(n),p.scale(.6*n),m.translate(c.translate())):c.scale()},m.translate=function(n){if(!arguments.length)return c.translate();var e=c.scale(),t=+n[0],r=+n[1];return o=c.translate(n).clipExtent([[t-.0115*e,r-.1138*e],[t+.2105*e,r+.0673*e]]).stream(v),i=s.translate([t-.0265*e,r+.025*e]).clipExtent([[t-.0388*e+1e-6,r+.0093*e+1e-6],[t-.0116*e-1e-6,r+.0368*e-1e-6]]).stream(v),a=p.translate([t-.045*e,r+-.02*e]).clipExtent([[t-.0778*e+1e-6,r-.0413*e+1e-6],[t-.0117*e-1e-6,r+.0091*e-1e-6]]).stream(v),g()},m.fitExtent=function(n,e){return u(m,n,e)},m.fitSize=function(n,e){return f(m,n,e)},m.drawCompositionBorders=function(n){var e=c([-12.8351,38.7113]),t=c([-10.8482,38.7633]),r=c([-10.8181,37.2072]),o=c([-12.7345,37.1573]),i=c([-16.0753,41.4436]),a=c([-10.9168,41.6861]),l=c([-10.8557,38.7747]),s=c([-15.6728,38.5505]);n.moveTo(e[0],e[1]),n.lineTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),n.moveTo(i[0],i[1]),n.lineTo(a[0],a[1]),n.lineTo(l[0],l[1]),n.lineTo(l[0],l[1]),n.lineTo(s[0],s[1]),n.closePath()},m.getCompositionBorders=function(){var n=t.path();return this.drawCompositionBorders(n),n.toString()},m.scale(4200)},n.geoConicConformalSpain=function(){var n,r,o,i,a,l=e.geoConicConformal().rotate([5,-38.6]).parallels([0,60]),c=e.geoConicConformal().rotate([5,-38.6]).parallels([0,60]),s={point:function(n,e){a=[n,e]}};function m(n){var e=n[0],t=n[1];return a=null,o.point(e,t),a||(i.point(e,t),a)}function g(){return n=r=null,m}return m.invert=function(n){var e=l.scale(),t=l.translate(),r=(n[0]-t[0])/e,o=(n[1]-t[1])/e;return(o>=.05346&&o<.0897&&r>=-.13388&&r<-.0322?c:l).invert(n)},m.stream=function(e){return n&&r===e?n:(t=[l.stream(r=e),c.stream(e)],o=t.length,n={point:function(n,e){for(var r=-1;++r<o;)t[r].point(n,e)},sphere:function(){for(var n=-1;++n<o;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<o;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<o;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<o;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<o;)t[n].polygonEnd()}});var t,o},m.precision=function(n){return arguments.length?(l.precision(n),c.precision(n),g()):l.precision()},m.scale=function(n){return arguments.length?(l.scale(n),c.scale(n),m.translate(l.translate())):l.scale()},m.translate=function(n){if(!arguments.length)return l.translate();var e=l.scale(),t=+n[0],r=+n[1];return o=l.translate(n).clipExtent([[t-.06857*e,r-.1288*e],[t+.13249*e,r+.06*e]]).stream(s),i=c.translate([t+.1*e,r-.094*e]).clipExtent([[t-.1331*e+1e-6,r+.053457*e+1e-6],[t-.0354*e-1e-6,r+.08969*e-1e-6]]).stream(s),g()},m.fitExtent=function(n,e){return u(m,n,e)},m.fitSize=function(n,e){return f(m,n,e)},m.fitWidth=function(n,e){return p(m,n,e)},m.fitHeight=function(n,e){return v(m,n,e)},m.drawCompositionBorders=function(n){var e=l([-14.034675,34.965007]),t=l([-7.4208899,35.536988]),r=l([-7.3148275,33.54359]);n.moveTo(e[0],e[1]),n.lineTo(t[0],t[1]),n.lineTo(r[0],r[1])},m.getCompositionBorders=function(){var n=t.path();return this.drawCompositionBorders(n),n.toString()},m.scale(2700)},n.geoConicConformalSpainCompact=function(){var n,r,o,i,a,l=e.geoConicConformal().rotate([5,-38.6]).parallels([0,60]),c=e.geoConicConformal().rotate([5,-38.6]).parallels([0,60]),s={point:function(n,e){a=[n,e]}};function m(n){var e=n[0],t=n[1];return a=null,o.point(e,t),a||(i.point(e,t),a)}function g(){return n=r=null,m}return m.invert=function(n){var e=l.scale(),t=l.translate(),r=(n[0]-t[0])/e,o=(n[1]-t[1])/e;return(o>=clipY0&&o<clipY1&&r>=-clipX0&&r<-clipX1?c:l).invert(n)},m.stream=function(e){return n&&r===e?n:(t=[l.stream(r=e),c.stream(e)],o=t.length,n={point:function(n,e){for(var r=-1;++r<o;)t[r].point(n,e)},sphere:function(){for(var n=-1;++n<o;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<o;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<o;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<o;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<o;)t[n].polygonEnd()}});var t,o},m.precision=function(n){return arguments.length?(l.precision(n),c.precision(n),g()):l.precision()},m.scale=function(n){return arguments.length?(l.scale(n),c.scale(n),m.translate(l.translate())):l.scale()},m.translate=function(n){if(!arguments.length)return l.translate();var e=l.scale(),t=+n[0],r=+n[1];return o=l.translate(n).clipExtent([[t-.06857*e,r-.1288*e],[t+.13249*e,r+.1*e]]).stream(s),i=c.translate([t+.178*e,r-.085*e]).clipExtent([[t-.053*e+1e-6,r+.062*e+1e-6],[t- -.044*e-1e-6,r+.1*e-1e-6]]).stream(s),g()},m.fitExtent=function(n,e){return u(m,n,e)},m.fitSize=function(n,e){return f(m,n,e)},m.fitWidth=function(n,e){return p(m,n,e)},m.fitHeight=function(n,e){return v(m,n,e)},m.drawCompositionBorders=function(n){const e=c.clipExtent(),t=l.invert([e[0][0],e[0][1]]),r=l.invert([e[1][0],e[0][1]]),o=l.invert([e[1][0],e[1][1]]),i=l(t),a=l(r),s=l(o);n.moveTo(i[0],i[1]),n.lineTo(a[0],a[1]),n.lineTo(s[0],s[1])},m.getCompositionBorders=function(){const n=t.path();return this.drawCompositionBorders(n),n.toString()},m.scale(2700)},n.geoConicEquidistantJapan=function(){var n,r,o,i,a,l,c=e.geoConicEquidistant().rotate([-136,-22]).parallels([40,34]),s=e.geoConicEquidistant().rotate([-146,-26]).parallels([40,34]),p=e.geoConicEquidistant().rotate([-126,-19]).parallels([40,34]),v={point:function(n,e){l=[n,e]}};function m(n){var e=n[0],t=n[1];return l=null,o.point(e,t),l||(i.point(e,t),l)||(a.point(e,t),l)}function g(){return n=r=null,m}return m.invert=function(n){var e=c.scale(),t=c.translate(),r=(n[0]-t[0])/e,o=(n[1]-t[1])/e;return(o>=-.10925&&o<-.02701&&r>=-.135&&r<-.0397?s:o>=.04713&&o<.11138&&r>=-.03986&&r<.051?p:c).invert(n)},m.stream=function(e){return n&&r===e?n:(t=[c.stream(r=e),s.stream(e),p.stream(e)],o=t.length,n={point:function(n,e){for(var r=-1;++r<o;)t[r].point(n,e)},sphere:function(){for(var n=-1;++n<o;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<o;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<o;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<o;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<o;)t[n].polygonEnd()}});var t,o},m.precision=function(n){return arguments.length?(c.precision(n),s.precision(n),p.precision(n),g()):c.precision()},m.scale=function(n){return arguments.length?(c.scale(n),s.scale(n),p.scale(.7*n),m.translate(c.translate())):c.scale()},m.translate=function(n){if(!arguments.length)return c.translate();var e=c.scale(),t=+n[0],r=+n[1];return o=c.translate(n).clipExtent([[t-.1352*e,r-.1091*e],[t+.117*e,r+.098*e]]).stream(v),i=s.translate([t-.0425*e,r-.005*e]).clipExtent([[t-.135*e+1e-6,r-.1093*e+1e-6],[t-.0397*e-1e-6,r-.027*e-1e-6]]).stream(v),a=p.translate(n).clipExtent([[t-.0399*e+1e-6,r+.0471*e+1e-6],[t+.051*e-1e-6,r+.1114*e-1e-6]]).stream(v),g()},m.fitExtent=function(n,e){return u(m,n,e)},m.fitSize=function(n,e){return f(m,n,e)},m.drawCompositionBorders=function(n){var e=c([126.01320483689143,41.621090310215585]),t=c([133.04304387025903,42.15087523707186]),r=c([133.3021766080688,37.43975444725098]),o=c([126.87889168628224,36.95488945159779]),i=c([132.9,29.8]),a=c([134,33]),l=c([139.3,33.2]),s=c([139.16,30.5]);n.moveTo(e[0],e[1]),n.lineTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),n.moveTo(i[0],i[1]),n.lineTo(a[0],a[1]),n.lineTo(l[0],l[1]),n.lineTo(s[0],s[1])},m.getCompositionBorders=function(){var n=t.path();return this.drawCompositionBorders(n),n.toString()},m.scale(2200)},n.geoMercatorEcuador=function(){var n,r,o,i,a,l=e.geoMercator().rotate([80,1.5]),c=e.geoMercator().rotate([90.73,1]),s={point:function(n,e){a=[n,e]}};function p(n){var e=n[0],t=n[1];return a=null,o.point(e,t),a||(i.point(e,t),a)}function v(){return n=r=null,p}return p.invert=function(n){var e=l.scale(),t=l.translate(),r=(n[0]-t[0])/e,o=(n[1]-t[1])/e;return(o>=-.0676&&o<-.026&&r>=-.0857&&r<-.0263?c:l).invert(n)},p.stream=function(e){return n&&r===e?n:(t=[l.stream(r=e),c.stream(e)],o=t.length,n={point:function(n,e){for(var r=-1;++r<o;)t[r].point(n,e)},sphere:function(){for(var n=-1;++n<o;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<o;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<o;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<o;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<o;)t[n].polygonEnd()}});var t,o},p.precision=function(n){return arguments.length?(l.precision(n),c.precision(n),v()):l.precision()},p.scale=function(n){return arguments.length?(l.scale(n),c.scale(n),p.translate(l.translate())):l.scale()},p.translate=function(n){if(!arguments.length)return l.translate();var e=l.scale(),t=+n[0],r=+n[1];return o=l.translate(n).clipExtent([[t-.0262*e,r-.0734*e],[t+.1741*e,r+.079*e]]).stream(s),i=c.translate([t-.06*e,r-.04*e]).clipExtent([[t-.0857*e+1e-6,r-.0676*e+1e-6],[t-.0263*e-1e-6,r-.026*e-1e-6]]).stream(s),v()},p.fitExtent=function(n,e){return u(p,n,e)},p.fitSize=function(n,e){return f(p,n,e)},p.drawCompositionBorders=function(n){var e=l([-84.9032,2.3757]),t=l([-81.5047,2.3708]),r=l([-81.5063,-.01]),o=l([-84.9086,-.005]);n.moveTo(e[0],e[1]),n.lineTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath()},p.getCompositionBorders=function(){var n=t.path();return this.drawCompositionBorders(n),n.toString()},p.scale(3500)},n.geoMercatorEquatorialGuinea=function(){var n,r,o,i,a,l,c=e.geoMercator().rotate([-9.5,-1.5]),s=e.geoMercator().rotate([-8.6,-3.5]),p=e.geoMercator().rotate([-5.6,1.45]),v={point:function(n,e){l=[n,e]}};function m(n){var e=n[0],t=n[1];return l=null,o.point(e,t),l||(i.point(e,t),l)||(a.point(e,t),l)}function g(){return n=r=null,m}return m.invert=function(n){var e=c.scale(),t=c.translate(),r=(n[0]-t[0])/e,o=(n[1]-t[1])/e;return(o>=-.02&&o<0&&r>=-.038&&r<-.005?s:o>=0&&o<.02&&r>=-.038&&r<-.005?p:c).invert(n)},m.stream=function(e){return n&&r===e?n:(t=[c.stream(r=e),s.stream(e),p.stream(e)],o=t.length,n={point:function(n,e){for(var r=-1;++r<o;)t[r].point(n,e)},sphere:function(){for(var n=-1;++n<o;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<o;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<o;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<o;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<o;)t[n].polygonEnd()}});var t,o},m.precision=function(n){return arguments.length?(c.precision(n),s.precision(n),p.precision(n),g()):c.precision()},m.scale=function(n){return arguments.length?(c.scale(n),s.scale(1.5*n),p.scale(4*n),m.translate(c.translate())):c.scale()},m.translate=function(n){if(!arguments.length)return c.translate();var e=c.scale(),t=+n[0],r=+n[1];return o=c.translate(n).clipExtent([[t-.005*e,r-.02*e],[t+.038*e,r+.02*e]]).stream(v),i=s.translate([t-.025*e,r-.01*e]).clipExtent([[t-.038*e+1e-6,r-.02*e+1e-6],[t-.005*e-1e-6,r+0*e-1e-6]]).stream(v),a=p.translate([t-.025*e,r+.01*e]).clipExtent([[t-.038*e+1e-6,r-0*e+1e-6],[t-.005*e-1e-6,r+.02*e-1e-6]]).stream(v),g()},m.fitExtent=function(n,e){return u(m,n,e)},m.fitSize=function(n,e){return f(m,n,e)},m.drawCompositionBorders=function(n){var e,t,r,o;e=c([9.21327272751682,2.645820439454123]),t=c([11.679126293239872,2.644755519268689]),r=c([11.676845389029227,.35307824637606433]),o=c([9.213572917774014,.35414205204417754]),n.moveTo(e[0],e[1]),n.lineTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),e=c([7.320873711543669,2.64475551449975]),t=c([9.213272722738658,2.645820434679803]),r=c([9.213422896480349,1.4999812505283054]),o=c([7.322014760520787,1.4989168878985566]),n.moveTo(e[0],e[1]),n.lineTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),e=c([7.3220147605302905,1.4989168783492766]),t=c([9.213422896481598,1.499981240979021]),r=c([9.213572912999604,.354142056817247]),o=c([7.323154615739809,.353078251154504]),n.moveTo(e[0],e[1]),n.lineTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath()},m.getCompositionBorders=function(){var n=t.path();return this.drawCompositionBorders(n),n.toString()},m.scale(12e3)},n.geoMercatorMalaysia=function(){var n,r,o,i,a,l=e.geoMercator().center([105.25,4]),c=e.geoMercator().center([118.65,2.86]),s={point:function(n,e){a=[n,e]}};function p(n){var e=n[0],t=n[1];return a=null,o.point(e,t),a||(i.point(e,t),a)}function v(){return n=r=null,p}return p.invert=function(n){var e=l.scale(),t=l.translate(),r=(n[0]-t[0])/e,o=(n[1]-t[1])/e;return(o>=-.0521&&o<.0229&&r>=-.0111&&r<.1?c:l).invert(n)},p.stream=function(e){return n&&r===e?n:(t=[l.stream(r=e),c.stream(e)],o=t.length,n={point:function(n,e){for(var r=-1;++r<o;)t[r].point(n,e)},sphere:function(){for(var n=-1;++n<o;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<o;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<o;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<o;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<o;)t[n].polygonEnd()}});var t,o},p.precision=function(n){return arguments.length?(l.precision(n),c.precision(n),v()):l.precision()},p.scale=function(n){return arguments.length?(l.scale(n),c.scale(.615*n),p.translate(l.translate())):l.scale()},p.translate=function(n){if(!arguments.length)return l.translate();var e=l.scale(),t=+n[0],r=+n[1];return o=l.translate(n).clipExtent([[t-.11*e,r-.0521*e],[t-.0111*e,r+.0521*e]]).stream(s),i=c.translate([t+.09*e,r-0*e]).clipExtent([[t-.0111*e+1e-6,r-.0521*e+1e-6],[t+.1*e-1e-6,r+.024*e-1e-6]]).stream(s),v()},p.fitExtent=function(n,e){return u(p,n,e)},p.fitSize=function(n,e){return f(p,n,e)},p.drawCompositionBorders=function(n){var e=l([106.3214,2.0228]),t=l([105.1843,2.3761]),r=l([104.2151,3.3618]),o=l([104.215,4.5651]);n.moveTo(e[0],e[1]),n.lineTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1])},p.getCompositionBorders=function(){var n=t.path();return this.drawCompositionBorders(n),n.toString()},p.scale(4800)},n.geoTransverseMercatorChile=function(){var n,r,o,i,a,l,c,s=e.geoTransverseMercator().rotate([72,37]),p=e.geoStereographic().rotate([72,0]),v=e.geoMercator().rotate([80,33.5]),m=e.geoMercator().rotate([110,25]),g={point:function(n,e){c=[n,e]}};function T(n){var e=n[0],t=n[1];return c=null,o.point(e,t),c||(i.point(e,t),c)||(a.point(e,t),c)||(l.point(e,t),c)}function h(){return n=r=null,T}return T.invert=function(n){var e=s.scale(),t=s.translate(),r=(n[0]-t[0])/e,o=(n[1]-t[1])/e;return(o>=.2582&&o<.32&&r>=-.1036&&r<-.087?p:o>=-.01298&&o<.0133&&r>=-.11396&&r<-.05944?v:o>=.01539&&o<.03911&&r>=-.089&&r<-.0588?m:s).invert(n)},T.stream=function(e){return n&&r===e?n:(t=[s.stream(r=e),p.stream(e),v.stream(e),m.stream(e)],o=t.length,n={point:function(n,e){for(var r=-1;++r<o;)t[r].point(n,e)},sphere:function(){for(var n=-1;++n<o;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<o;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<o;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<o;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<o;)t[n].polygonEnd()}});var t,o},T.precision=function(n){return arguments.length?(s.precision(n),p.precision(n),v.precision(n),m.precision(n),h()):s.precision()},T.scale=function(n){return arguments.length?(s.scale(n),p.scale(.15*n),v.scale(1.5*n),m.scale(1.5*n),T.translate(s.translate())):s.scale()},T.translate=function(n){if(!arguments.length)return s.translate();var e=s.scale(),t=+n[0],r=+n[1];return o=s.translate(n).clipExtent([[t-.059*e,r-.3835*e],[t+.4498*e,r+.3375*e]]).stream(g),i=p.translate([t-.087*e,r+.17*e]).clipExtent([[t-.1166*e+1e-6,r+.2582*e+1e-6],[t-.06*e-1e-6,r+.32*e-1e-6]]).stream(g),a=v.translate([t-.092*e,r-0*e]).clipExtent([[t-.114*e+1e-6,r-.013*e+1e-6],[t-.0594*e-1e-6,r+.0133*e-1e-6]]).stream(g),l=m.translate([t-.089*e,r-.0265*e]).clipExtent([[t-.089*e+1e-6,r+.0154*e+1e-6],[t-.0588*e-1e-6,r+.0391*e-1e-6]]).stream(g),h()},T.fitExtent=function(n,e){return u(T,n,e)},T.fitSize=function(n,e){return f(T,n,e)},T.drawCompositionBorders=function(n){var e=s([-82.6999,-51.3043]),t=s([-77.5442,-51.6631]),r=s([-78.0254,-55.186]),o=s([-83.6106,-54.7785]),i=s([-80.0638,-35.984]),a=s([-76.2153,-36.1811]),l=s([-76.2994,-37.6839]),c=s([-80.2231,-37.4757]),u=s([-78.442,-37.706]),f=s([-76.263,-37.8054]),p=s([-76.344,-39.1595]),v=s([-78.5638,-39.0559]);n.moveTo(e[0],e[1]),n.lineTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),n.moveTo(i[0],i[1]),n.lineTo(a[0],a[1]),n.lineTo(l[0],l[1]),n.lineTo(l[0],l[1]),n.lineTo(c[0],c[1]),n.closePath(),n.moveTo(u[0],u[1]),n.lineTo(f[0],f[1]),n.lineTo(p[0],p[1]),n.lineTo(p[0],p[1]),n.lineTo(v[0],v[1]),n.closePath()},T.getCompositionBorders=function(){var n=t.path();return this.drawCompositionBorders(n),n.toString()},T.scale(700)},Object.defineProperty(n,"__esModule",{value:!0})}));
